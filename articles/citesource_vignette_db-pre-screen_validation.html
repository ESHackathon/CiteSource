<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="CiteSource">
<title>CiteSource - Example: Validating Usefullness of Databases Pre-Screening • CiteSource</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="CiteSource - Example: Validating Usefullness of Databases Pre-Screening">
<meta property="og:description" content="CiteSource">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">CiteSource</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/citesource_benchmark_testing.html">CiteSource - Example: Benchmark Testing</a>
    <a class="dropdown-item" href="../articles/citesource_example.html">CiteSource - Example workflow</a>
    <a class="dropdown-item" href="../articles/citesource_vignette.html">CiteSource</a>
    <a class="dropdown-item" href="../articles/citesource_vignette_db-pre-screen_validation.html">CiteSource - Example: Validating Usefullness of Databases Pre-Screening</a>
    <a class="dropdown-item" href="../articles/citesource_vignette_db-topic-coverage.html">CiteSource - Example: Comparing Database Topic Coverage</a>
    <a class="dropdown-item" href="../articles/citesource_working_example.html">CiteSource - Short working example</a>
    <a class="dropdown-item" href="../articles/citesource_working_example_long.html">CiteSource - Long working example</a>
    <a class="dropdown-item" href="../articles/kh_example.html">CiteSource - Example workflow KH</a>
    <a class="dropdown-item" href="../articles/troubleshooting.html">Troubleshooting</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ESHackathon/CiteSource/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>CiteSource - Example: Validating Usefullness of Databases Pre-Screening</h1>
                        <h4 data-toc-skip class="author"></h4>
            
            <h4 data-toc-skip class="date">2023-01-24</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ESHackathon/CiteSource/blob/HEAD/vignettes/citesource_vignette_db-pre-screen_validation.Rmd" class="external-link"><code>vignettes/citesource_vignette_db-pre-screen_validation.Rmd</code></a></small>
      <div class="d-none name"><code>citesource_vignette_db-pre-screen_validation.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="about-the-package">About the package<a class="anchor" aria-label="anchor" href="#about-the-package"></a>
</h2>
<p>CiteSource provides users with the ability to deduplicate references
while maintaining customizable metadata. Instead of the traditional
deduplication method where records are removed and only one record is
selected to be retained, CiteSource retains each duplicate record while
merging metadata into a single main record. This main record maintains
user-customized metadata in three fields, “cite_source”, “cite_label”
and “tag_naming”. In the merging process, select metadata fields are
also automatically compared (currently DOI &amp; Abstract) and the most
complete metadata is used in the main record.</p>
</div>
<div class="section level2">
<h2 id="about-this-vignette">About this vignette<a class="anchor" aria-label="anchor" href="#about-this-vignette"></a>
</h2>
<p>In the process of developing search strategies for evidence
synthesis, it is standard practice to test different versions of a
search in the main database and examine the records gained and lost with
changes to the search string and to test different searches against a
set of already known relevant studies (i.e., benchmark studies). In this
way, the right balance between precision and sensitivity can be acheived
prior to screening.</p>
<p>Until now, this within-database testing has been the primary method
of pre-screening search validation. With CiteSource, we can now test
search strategies across databases, to assess the usefullness of certain
databases in a search before finalizing our database set. This adds
another layer of pre-screening search validation that can further
improve precision/sensitivity. This vignette provides a workflow for
testing a search strategie across multiple databases and against a set
of benchmark studies.</p>
<p>In this example, we are running a search about lonliness and gambling
addiction. We developed a search strategy for PsycInfo, our main
database. Now, we’d like to see if searching other databases like Web of
Science and PubMed add useful records and help us find more of our
benchmark studies.</p>
</div>
<div class="section level2">
<h2 id="installation-of-packages-and-loading-libraries">1. Installation of packages and loading libraries<a class="anchor" aria-label="anchor" href="#installation-of-packages-and-loading-libraries"></a>
</h2>
<p>Use the following code to install CiteSource. Currently, CiteSource
lives on GitHub, so you may need to first install the remotes package.
This vignette also uses functions from the ggplot2 and dplyr
packages.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Install the remotes packages to enable installation from GitHub</span></span>
<span><span class="co">#install.packages("remotes")</span></span>
<span><span class="co">#library(remotes)</span></span>
<span></span>
<span><span class="co">#Install CiteSource</span></span>
<span><span class="co">#remotes::install_github("ESHackathon/CiteSource")</span></span>
<span></span>
<span><span class="co">#Load the necessary libraries</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.eshackathon.org/CiteSource/" class="external-link">CiteSource</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/" class="external-link">knitr</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="import-files-from-multiple-sources">Import files from multiple sources<a class="anchor" aria-label="anchor" href="#import-files-from-multiple-sources"></a>
</h2>
<p>Users can import multiple RIS or bibtex files into CiteSource, which
the user can label with source information such as database or
platform.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Import citation files from folder</span></span>
<span><span class="va">citation_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span>path<span class="op">=</span> <span class="st">"valid_data"</span>, pattern <span class="op">=</span> <span class="st">"\\.ris"</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Print citation_files to double check the order in which R imported our files. This will typically default to alphabetical, but it is worth checking as in the next step, we assign each file to a group based on their order.</span></span>
<span></span>
<span><span class="va">citation_files</span></span>
<span><span class="co">#&gt; [1] "valid_data/benchmark.ris"   "valid_data/psycinfo_64.ris"</span></span>
<span><span class="co">#&gt; [3] "valid_data/pubmed_46.ris"   "valid_data/WoS_79.ris"</span></span>
<span></span>
<span><span class="co">#Read in citations and specify sources. Here we note the sources of our three database searches and then add labels cooresponding to their status as benchmark studies or as a database search.</span></span>
<span><span class="va">citations</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_citations.html">read_citations</a></span><span class="op">(</span><span class="va">citation_files</span>,</span>
<span>                            cite_sources <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="st">"psycinfo"</span>, <span class="st">"pubmed"</span>, <span class="st">"wos"</span><span class="op">)</span>,</span>
<span>                            cite_labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"benchmark"</span>, <span class="st">"search"</span>, <span class="st">"search"</span>, <span class="st">"search"</span><span class="op">)</span>,</span>
<span>                            tag_naming <span class="op">=</span> <span class="st">"best_guess"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Import completed - with the following details:</span></span>
<span><span class="co">#&gt;              file cite_source cite_string cite_label citations</span></span>
<span><span class="co">#&gt; 1   benchmark.ris        &lt;NA&gt;          NA  benchmark        13</span></span>
<span><span class="co">#&gt; 2 psycinfo_64.ris    psycinfo          NA  benchmark        64</span></span>
<span><span class="co">#&gt; 3   pubmed_46.ris      pubmed          NA  benchmark        46</span></span>
<span><span class="co">#&gt; 4      WoS_79.ris         wos          NA  benchmark        79</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="deduplication-and-source-information">Deduplication and source information<a class="anchor" aria-label="anchor" href="#deduplication-and-source-information"></a>
</h2>
<p>CiteSource allows users to merge duplicates while maintaining
information in the cite_source metadata field. Thus, information about
the origin of the records is not lost in the deduplication process. The
next few steps produce the dataframes that we can use in subsequent
analyses.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Deduplicate citations </span></span>
<span><span class="va">dedup_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dedup_citations.html">dedup_citations</a></span><span class="op">(</span><span class="va">citations</span>, merge_citations <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Get unique citations. This yields a dataframe of all records with duplicates merged, but the originating source information maintained in a new variable called cite_source.</span></span>
<span><span class="va">unique_citations</span> <span class="op">&lt;-</span> <span class="va">dedup_results</span><span class="op">$</span><span class="va">unique</span></span>
<span></span>
<span><span class="co">#Count number of unique and non-unique citations from different sources and labels. </span></span>
<span><span class="va">n_unique</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/count_unique.html">count_unique</a></span><span class="op">(</span><span class="va">unique_citations</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#For each unique citation, determine which sources were present</span></span>
<span><span class="va">source_comparison</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compare_sources.html">compare_sources</a></span><span class="op">(</span><span class="va">unique_citations</span>, comp_type <span class="op">=</span> <span class="st">"sources"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="plot-heatmap-to-compare-source-overlap">Plot heatmap to compare source overlap<a class="anchor" aria-label="anchor" href="#plot-heatmap-to-compare-source-overlap"></a>
</h2>
<div class="section level3">
<h3 id="heatmap-by-number-of-records">Heatmap by number of records<a class="anchor" aria-label="anchor" href="#heatmap-by-number-of-records"></a>
</h3>
<p>A heatmap can tell us the total number of records retrieved from each
database, and can be used to compare the number of overlapping records
found in each pair of databases. In this example, we can see that Scopus
yielded the highest number of records on gambling harms, and Criminal
Justics Abstracts the least.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Generate source comparison heatmap</span></span>
<span><span class="fu"><a href="../reference/plot_source_overlap_heatmap.html">plot_source_overlap_heatmap</a></span><span class="op">(</span><span class="va">source_comparison</span><span class="op">)</span></span></code></pre></div>
<p><img src="citesource_vignette_db-pre-screen_validation_files/figure-html/unnamed-chunk-4-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="heatmap-by-percentage-of-records">Heatmap by percentage of records<a class="anchor" aria-label="anchor" href="#heatmap-by-percentage-of-records"></a>
</h3>
<p>Another way of visualizing this is a heatmap with percent overlap. We
can use the <code>plot_type</code> argument to produce a percentage
heatmap as follows. The total number of records appears in gray. The
percentages indicate the share of records in a row also found in a
column. For example, here we see that 67% of the records in Scopus were
also found in PubMed. Conversely, 97% of records in PubMed were found in
Scopus.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Generate heatmap with percent overlap</span></span>
<span><span class="fu"><a href="../reference/plot_source_overlap_heatmap.html">plot_source_overlap_heatmap</a></span><span class="op">(</span><span class="va">source_comparison</span>, plot_type <span class="op">=</span> <span class="st">"percentages"</span><span class="op">)</span></span></code></pre></div>
<p><img src="citesource_vignette_db-pre-screen_validation_files/figure-html/unnamed-chunk-5-1.png" width="576"></p>
</div>
</div>
<div class="section level2">
<h2 id="plot-an-upset-plot-to-compare-source-overlap">Plot an upset plot to compare source overlap<a class="anchor" aria-label="anchor" href="#plot-an-upset-plot-to-compare-source-overlap"></a>
</h2>
<p>An upset plot is another way of visualizing overlap and provides a
bit more detail about the number of shared and unique records. Here, we
can see that Scopus had the most unique records not found in any other
database (n=35), and Criminal Justice Abstracts only had one unique
record. Six records were found in every database.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Generate a source comparison upset plot.</span></span>
<span><span class="fu"><a href="../reference/plot_source_overlap_upset.html">plot_source_overlap_upset</a></span><span class="op">(</span><span class="va">source_comparison</span>, decreasing <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="citesource_vignette_db-pre-screen_validation_files/figure-html/unnamed-chunk-6-1.png" width="576"></p>
</div>
<div class="section level2">
<h2 id="bar-plots-of-unique-and-shared-records">Bar plots of unique and shared records<a class="anchor" aria-label="anchor" href="#bar-plots-of-unique-and-shared-records"></a>
</h2>
<p>Bar plots can be another way of looking at overlap and uniqueness of
database contributions to a search. We can use the <em>CiteSource</em>
function <code>plot_contributions</code> to plot a bar chart of numbers
of unique and overlapping records. We can also add our benchmark studies
into this chart to view the unique and non-unique contributions of each
database to our benchmark set. In this example….</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Generate bar plot of unique citations PER database and their contribution to the benchmark studies</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_contributions.html">plot_contributions</a></span><span class="op">(</span><span class="va">n_unique</span>,</span>
<span>  center <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  bar_order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"search"</span>, <span class="st">"Screened"</span>, <span class="st">"Final"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="citesource_vignette_db-pre-screen_validation_files/figure-html/unnamed-chunk-7-1.png" width="576"></p>
</div>
<div class="section level2">
<h2 id="analyzing-unique-contributions">Analyzing unique contributions<a class="anchor" aria-label="anchor" href="#analyzing-unique-contributions"></a>
</h2>
<p>As we do when testing different search strategies in a single
database, we can look at the unique contributions to determine if those
contributions are useful or not. In other words, given the total number
of records the database adds to our search, do the unique contributions
justify the amount of additional screening time that will be required if
we choose to include this database in our final search? Thus, let’s look
more closely at the records that are only found in each database and not
appearing anywhere else. We can make use of the output of the
<code>count_unique</code> function. We use the <em>dplyr</em> function
<code>filter</code> to find the unique records contributed by single
sources. We then use the <code>inner_join</code> function to regain the
bibliographic data by merging on record IDs with the unique_citations
dataframe we generated above in the deduplication process.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Get unique records from each source and add bibliographic data</span></span>
<span><span class="va">unique_psycinfo</span> <span class="op">&lt;-</span> <span class="va">n_unique</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">cite_source</span><span class="op">==</span><span class="st">"psycinfo"</span>, <span class="va">unique</span> <span class="op">==</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">inner_join</a></span><span class="op">(</span><span class="va">unique_citations</span>, by <span class="op">=</span> <span class="st">"duplicate_id"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">unique_pubmed</span> <span class="op">&lt;-</span> <span class="va">n_unique</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">cite_source</span><span class="op">==</span><span class="st">"pubmed"</span>, <span class="va">unique</span> <span class="op">==</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">inner_join</a></span><span class="op">(</span><span class="va">unique_citations</span>, by <span class="op">=</span> <span class="st">"duplicate_id"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">unique_wos</span> <span class="op">&lt;-</span> <span class="va">n_unique</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">cite_source</span><span class="op">==</span><span class="st">"wos"</span>, <span class="va">unique</span> <span class="op">==</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">inner_join</a></span><span class="op">(</span><span class="va">unique_citations</span>, by <span class="op">=</span> <span class="st">"duplicate_id"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#To save these dataframes to a csv file for review, use write.csv</span></span>
<span></span>
<span><span class="co">#write.csv(unique_pubmed, "unique_pubmed.csv")</span></span></code></pre></div>
<div class="section level3">
<h3 id="search-summary-table">Search Summary Table<a class="anchor" aria-label="anchor" href="#search-summary-table"></a>
</h3>
<p>A search summary table can also be useful to assess each database for
unique contributions to a set of benchmark studies and to calculate
their sensitivity and precision scores. The <em>CiteSource</em> function
<code>citation_summary_table</code> produces a useful table containing
these numbers.</p>
<p>#Note: getting an error here: Error in dplyr::summarise(.,
<code>:=</code>(!!comparison_type, “Total”),
dplyr::across(tidyselect::where(is.numeric), :</p>
<p>ℹ The error occurred in group 2: stage = “search”. Caused by error in
<code><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across()</a></code>: ! ‘where’ is not an exported object from
‘namespace:tidyselect’ citation_summary_table(unique_citations,
screening_label = c(“benchmark”))</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Generate search summary table</span></span>
<span><span class="fu"><a href="../reference/citation_summary_table.html">citation_summary_table</a></span><span class="op">(</span><span class="va">unique_citations</span>, screening_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"benchmark"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div id="lbaeuffslm" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
html {
  font-family: Chivo, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#lbaeuffslm .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: 300;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: none;
  border-top-width: 3px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#lbaeuffslm .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lbaeuffslm .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#lbaeuffslm .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#lbaeuffslm .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#lbaeuffslm .gt_bottom_border {
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lbaeuffslm .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lbaeuffslm .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: normal;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#lbaeuffslm .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: normal;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#lbaeuffslm .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#lbaeuffslm .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#lbaeuffslm .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#lbaeuffslm .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #BEBEBE;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#lbaeuffslm .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #BEBEBE;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #FFFFFF;
  vertical-align: middle;
}

#lbaeuffslm .gt_from_md > :first-child {
  margin-top: 0;
}

#lbaeuffslm .gt_from_md > :last-child {
  margin-bottom: 0;
}

#lbaeuffslm .gt_row {
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#lbaeuffslm .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 0px;
  border-right-color: #FFFFFF;
  padding-left: 5px;
  padding-right: 5px;
}

#lbaeuffslm .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#lbaeuffslm .gt_row_group_first td {
  border-top-width: 2px;
}

#lbaeuffslm .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lbaeuffslm .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#lbaeuffslm .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#lbaeuffslm .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lbaeuffslm .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lbaeuffslm .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#lbaeuffslm .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#lbaeuffslm .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lbaeuffslm .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lbaeuffslm .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lbaeuffslm .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lbaeuffslm .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lbaeuffslm .gt_left {
  text-align: left;
}

#lbaeuffslm .gt_center {
  text-align: center;
}

#lbaeuffslm .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#lbaeuffslm .gt_font_normal {
  font-weight: normal;
}

#lbaeuffslm .gt_font_bold {
  font-weight: bold;
}

#lbaeuffslm .gt_font_italic {
  font-style: italic;
}

#lbaeuffslm .gt_super {
  font-size: 65%;
}

#lbaeuffslm .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#lbaeuffslm .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#lbaeuffslm .gt_indent_1 {
  text-indent: 5px;
}

#lbaeuffslm .gt_indent_2 {
  text-indent: 10px;
}

#lbaeuffslm .gt_indent_3 {
  text-indent: 15px;
}

#lbaeuffslm .gt_indent_4 {
  text-indent: 20px;
}

#lbaeuffslm .gt_indent_5 {
  text-indent: 25px;
}

tbody tr:last-child {
  border-bottom: 2px solid #ffffff00;
}
</style>
<table class="table gt_table">
<thead class="gt_col_headings">
<tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" style="border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: #000000; border-top-width: 0px; border-top-style: solid; border-top-color: black; font-weight: bold;" scope="col" id="Sources">Sources</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2" style="border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 0; border-bottom-style: solid; border-bottom-color: #000000; font-style: italic; font-weight: bold;" scope="colgroup" id="Records">
        <span class="gt_column_spanner">Records</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="1" style="border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 0; border-bottom-style: solid; border-bottom-color: #000000; font-style: italic; font-weight: bold;" scope="col" id="Contribution">
        <span class="gt_column_spanner">Contribution</span>
      </th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="2" colspan="1" style="border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: #000000; border-top-width: 0px; border-top-style: solid; border-top-color: black; font-weight: bold;" scope="col" id="Sensitivity">Sensitivity</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="2" colspan="1" style="border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: #000000; border-top-width: 0px; border-top-style: solid; border-top-color: black; font-weight: bold;" scope="col" id="Precision">Precision</th>
    </tr>
<tr>
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: #000000; border-top-width: 0px; border-top-style: solid; border-top-color: black; font-weight: bold;" scope="col" id="total">total</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: #000000; border-top-width: 0px; border-top-style: solid; border-top-color: black; font-weight: bold;" scope="col" id="unique">unique</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: #000000; border-top-width: 0px; border-top-style: solid; border-top-color: black; font-weight: bold;" scope="col" id="unique">unique</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<th colspan="6" class="gt_group_heading" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;" scope="colgroup" id="search">search</th>
    </tr>
<tr class="gt_row_group_first">
<td headers="search  Sources" class="gt_row gt_left">wos</td>
<td headers="search  Records_total" class="gt_row gt_right">79</td>
<td headers="search  Records_unique" class="gt_row gt_right">40</td>
<td headers="search  Contribution_unique" class="gt_row gt_right">26.67%</td>
<td headers="search  Sensitivity" class="gt_row gt_right">52.67%</td>
<td headers="search  Precision" class="gt_row gt_right">—</td>
</tr>
<tr>
<td headers="search  Sources" class="gt_row gt_left">psycinfo</td>
<td headers="search  Records_total" class="gt_row gt_right">64</td>
<td headers="search  Records_unique" class="gt_row gt_right">64</td>
<td headers="search  Contribution_unique" class="gt_row gt_right">42.67%</td>
<td headers="search  Sensitivity" class="gt_row gt_right">42.67%</td>
<td headers="search  Precision" class="gt_row gt_right">—</td>
</tr>
<tr>
<td headers="search  Sources" class="gt_row gt_left">pubmed</td>
<td headers="search  Records_total" class="gt_row gt_right">46</td>
<td headers="search  Records_unique" class="gt_row gt_right">7</td>
<td headers="search  Contribution_unique" class="gt_row gt_right">4.67%</td>
<td headers="search  Sensitivity" class="gt_row gt_right">30.67%</td>
<td headers="search  Precision" class="gt_row gt_right">—</td>
</tr>
<tr>
<td headers="search  Sources" class="gt_row gt_left">Total<sup class="gt_footnote_marks">1</sup>
</td>
<td headers="search  Records_total" class="gt_row gt_right">150</td>
<td headers="search  Records_unique" class="gt_row gt_right">111</td>
<td headers="search  Contribution_unique" class="gt_row gt_right">74.00%</td>
<td headers="search  Sensitivity" class="gt_row gt_right">—</td>
<td headers="search  Precision" class="gt_row gt_right">—</td>
</tr>
<tr class="gt_group_heading_row">
<th colspan="6" class="gt_group_heading" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;" scope="colgroup" id="benchmark">benchmark</th>
    </tr>
<tr class="gt_row_group_first">
<td headers="benchmark  Sources" class="gt_row gt_left">wos</td>
<td headers="benchmark  Records_total" class="gt_row gt_right">6</td>
<td headers="benchmark  Records_unique" class="gt_row gt_right">4</td>
<td headers="benchmark  Contribution_unique" class="gt_row gt_right">2.67%</td>
<td headers="benchmark  Sensitivity" class="gt_row gt_right">100.00%</td>
<td headers="benchmark  Precision" class="gt_row gt_right">7.59%</td>
</tr>
<tr>
<td headers="benchmark  Sources" class="gt_row gt_left">pubmed</td>
<td headers="benchmark  Records_total" class="gt_row gt_right">2</td>
<td headers="benchmark  Records_unique" class="gt_row gt_right">0</td>
<td headers="benchmark  Contribution_unique" class="gt_row gt_right">0.00%</td>
<td headers="benchmark  Sensitivity" class="gt_row gt_right">33.33%</td>
<td headers="benchmark  Precision" class="gt_row gt_right">4.35%</td>
</tr>
<tr>
<td headers="benchmark  Sources" class="gt_row gt_left">Total<sup class="gt_footnote_marks">1</sup>
</td>
<td headers="benchmark  Records_total" class="gt_row gt_right">6</td>
<td headers="benchmark  Records_unique" class="gt_row gt_right">4</td>
<td headers="benchmark  Contribution_unique" class="gt_row gt_right">66.67%</td>
<td headers="benchmark  Sensitivity" class="gt_row gt_right">—</td>
<td headers="benchmark  Precision" class="gt_row gt_right">4.00%</td>
</tr>
</tbody>
<tfoot class="gt_sourcenotes"><tr>
<td class="gt_sourcenote" colspan="6">
<strong>Included fields:</strong>
<ul>
<li>
<p><strong><em>Total</em> records</strong> are all records returned by that source, while <strong><em>unique</em> records</strong> are found in only that source (or, in the Total rows, in only one source).</p>
</li>
<li>
<p>The <strong>unique contribution</strong> is the share of records only found in that source (or, in the Total rows, in only one source).</p>
</li>
<li>
<p><strong>Sensitivity</strong> is the share of all (deduplicated) records retained at that stage compared to the total number found in that particular source.</p>
</li>
<li>
<p><strong>Precision</strong> is the share of initial records in that source that are retained for inclusion at that stage.</p>
</li>
</ul>
</td>
    </tr></tfoot>
<tfoot class="gt_footnotes"><tr>
<td class="gt_footnote" colspan="6">
<sup class="gt_footnote_marks">1</sup> After deduplication</td>
    </tr></tfoot>
</table>
</div>
</div>
</div>
<div class="section level2">
<h2 id="in-summary">In summary<a class="anchor" aria-label="anchor" href="#in-summary"></a>
</h2>
<p>We can use CiteSource to evaluate the usefulness of different
databases to an overall search strategy before screening. In this
example, we found that both PsycInfo and Web of Science made unique
contributions to our benchmark studies and both had a significant
proportion of unique records compared to the other databases. On the
otherhand, PubMed did not contribute any unique records to our benchmark
studies, and mostly overlapped with PsycInfo and Web of Science. This
provides us with some evidence to suggest that searching PubMed may not
be an effective database for this topic.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Trevor Riley, Kaitlyn Hair, Lukas Wallrich, Matthew Grainger, Sarah Young, Chris Pritchard, Neal Haddaway.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
